!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(){var t,e,r,n,i=.45,a=[];return{size:function(e,r){return t=new h["default"](0,0,e,r),this},nodes:function(t){return t?(e=t,this):e},node:function(t){return e[t]},links:function(t){return t?(r=t,this):r},rects:function(){return a},start:function(){var i=this;return n=_.groupBy(r,function(t){return t.source}),e=_.map(e,function(t,e){return o({},t,{weight:i._calculateWeight(e)})}),r=_.map(r,function(t){return{source:e[t.source],target:e[t.target]}}),this._layoutNode(t,0),this},_layoutNode:function(t,r){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];e[r].x=t.center().x,e[r].y=t.center().y,e[r].rect=t,e[r].depth=n,a[r]=t;for(var i=this._getChildren(r),o=_.map(i,function(t){return e[t].weight}),h=[],s=0;o.length>0;){var c=u(t,o,s);h=_.concat(h,c.rects),o=_.takeRight(o,o.length-c.rects.length),t=c.remainingRect,++s>3&&(s=0)}for(var f=0;f<h.length;f++)this._layoutNode(h[f],i[f],n+1)},_calculateWeight:function(t){for(var e=0,r=this._getChildren(t),n=0;n<r.length;n++)e+=this._calculateWeight(r[n]);return 1+i*e},_getChildren:function(t){return _.map(n[t],function(t){return t.target})}}}function u(t,e,r){for(var n={LEFT:0,TOP:1,RIGHT:2,BOTTOM:3},i=_.reduce(e,function(t,e){return t+e},0),u=[],o=1;o<=e.length;o++){var a=_.take(e,o),s=_.reduce(a,function(t,e){return t+e},0);if(r==n.RIGHT){for(var c=t.y+t.height(),f=[],l=t.width()*s/i,d=0;o>d;d++){var g=a[d],w=t.height()*g/s,v=new h["default"](t.x,c-w,l,w);v.weight=g,f.push(v),c-=v.height()}var p=_.reduce(f,function(t,e){return Math.min(t,e.ratio())},1),y={rects:f,remainingRect:new h["default"](t.x+l,t.y,t.width()-l,t.height()),minRatio:p,worse:o>1&&p<_.last(u).minRatio};if(y.worse)return _.last(u);u.push(y)}else if(r==n.TOP){for(var m=t.x,f=[],x=t.height()*s/i,d=0;o>d;d++){var g=a[d],R=t.width()*g/s,v=new h["default"](m,t.y,R,x);v.weight=g,f.push(v),m+=v.width()}var p=_.reduce(f,function(t,e){return Math.min(t,e.ratio())},1),y={rects:f,remainingRect:new h["default"](t.x,t.y+x,t.width(),t.height()-x),minRatio:p,worse:o>1&&p<_.last(u).minRatio};if(y.worse)return _.last(u);u.push(y)}else if(r==n.LEFT){for(var c=t.y,f=[],l=t.width()*s/i,d=0;o>d;d++){var g=a[d],w=t.height()*g/s,v=new h["default"](t.x,c,l,w);v.weight=g,f.push(v),c+=v.height()}var p=_.reduce(f,function(t,e){return Math.min(t,e.ratio())},1),y={rects:f,remainingRect:new h["default"](t.x+l,t.y,t.width()-l,t.height()),minRatio:p,worse:o>1&&p<_.last(u).minRatio};if(y.worse)return _.last(u);u.push(y)}else if(r==n.BOTTOM){for(var m=t.x+t.width(),f=[],x=t.height()*s/i,d=0;o>d;d++){var g=a[d],R=t.width()*g/s,v=new h["default"](m-R,t.y,R,x);v.weight=g,f.push(v),m-=v.width()}var p=_.reduce(f,function(t,e){return Math.min(t,e.ratio())},1),y={rects:f,remainingRect:new h["default"](t.x,t.y+x,t.width(),t.height()-x),minRatio:p,worse:o>1&&p<_.last(u).minRatio};if(y.worse)return _.last(u);u.push(y)}}return _.last(u)}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e["default"]=i;var a=r(1),h=n(a)},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(e,n,i,u){r(this,t),this.x=e,this.y=n,this.w=i,this.h=u}return n(t,[{key:"width",value:function(){return this.w}},{key:"height",value:function(){return this.h}},{key:"center",value:function(){return{x:this.x+this.width()/2,y:this.y+this.height()/2}}},{key:"ratio",value:function(){return Math.min(this.width()/this.height(),this.height()/this.width())}}]),t}();e["default"]=i}])});